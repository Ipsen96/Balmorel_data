PARAMETER INDHEAT_DH(YYY,INDHEAT_AAA,INDHEAT_DHUSER)  'Annual brutto individual heat consumption';

$ifi not %indheat_geo%==indheat_dk $goto endindheat_dk
*Assuming a split on Spaceheat/hot water of 66/34%.
Parameter INDHEAT_SPLIT(INDHEAT_DHUSER);
INDHEAT_SPLIT('SPACEHEAT')=0.66;
INDHEAT_SPLIT('HOTWATER')=0.34;

*Split between individual and apartments are 73% vs 27%
*DH accounts for 58% of the total heat demand in DK1_IND, therefore indheat must be 73% of this demand (42/58)
INDHEAT_DH(Y,'DK1_NoDH_ind',INDHEAT_DHUSER)  =                                                                               INDHEAT_SPLIT(INDHEAT_DHUSER) * 0.73   *0.73*SUM((RRR,AAA)$(RRRAAA(RRR,'DK1_NoDH_ind') AND RRRAAA(RRR,AAA)),DH(Y,AAA,'RESH'));
*DH accounts for 94% of the total heat demand in DK1_apart, therefore indheat must be 6% of this demand (6/94)
INDHEAT_DH(Y,'DK1_NoDH_apart',INDHEAT_DHUSER)  =                                                                             INDHEAT_SPLIT(INDHEAT_DHUSER) *   0.06 *0.27*SUM((RRR,AAA)$(RRRAAA(RRR,'DK1_NoDH_ind') AND RRRAAA(RRR,AAA)),DH(Y,AAA,'RESH'));

*Split between individual and apartments are 45% vs 55%
*DH accounts for 32% of the total heat demand in DK2_ind, therefore indheat must be 212% of this demand (68/32)
INDHEAT_DH(Y,'DK2_NoDH_ind',INDHEAT_DHUSER)  =                                                                               INDHEAT_SPLIT(INDHEAT_DHUSER) * 2.12   *0.45*SUM((RRR,AAA)$(RRRAAA(RRR,'DK2_NoDH_ind') AND RRRAAA(RRR,AAA)),DH(Y,AAA,'RESH'));
*DH accounts for 87% of the total heat demand in DK2, therefore indheat must be 14% of this demand (13/87)
INDHEAT_DH(Y,'DK2_NoDH_apart',INDHEAT_DHUSER)  =                                                                             INDHEAT_SPLIT(INDHEAT_DHUSER) *   0.14  *0.55*SUM((RRR,AAA)$(RRRAAA(RRR,'DK2_NoDH_ind') AND RRRAAA(RRR,AAA)),DH(Y,AAA,'RESH'));
$label endindheat_dk

$ifi not %indheat_geo%==indheat_eu $goto endindheat_eu
TABLE INDHEAT_DH1(INDHEAT_DHUSER,INDHEAT_AAA,YYY)
* Interpolated the numbers between the values given for specific years in NETP2016
*additional notes                                                      Share in areas as DE Share in spaceh or hotw               FINAL ENERGY DEMAND
                                                                                                                                  2015                 2016                 2017                 2018                 2019                 2020                 2021                 2022                                   2023                 2024                                                               2025                 2026                 2027                  2028                 2029                 2030                 2031                 2032                 2033                 2034                 2035                 2036                 2037                 2038                 2039                 2040                 2041                  2042                  2043                  2044                  2045                  2046                  2047                  2048                  2049                  2050                   /*   *Split DH demand   */

*SPACEHEAT                           DK_IDVH_RES                                            0.831375730968189                     19204039.9959185
*HOTWATER                            DK_IDVH_RES                                            0.168624269031811                     3895070.64753772
*SPACEHEAT                           DK_IDVH_TER                                            0.932976003934413                     3391852.83659469
*HOTWATER                            DK_IDVH_TER                                            0.0670239960655874                    243667.072053608
SPACEHEAT                  .         DK1_IDVH_RES     /*               0.59301280031869                             */            11388241.5354117     11388241.5354117     11388241.5354117     11388241.5354117     11388241.5354117     11388241.5354117
SPACEHEAT                  .         DK2_IDVH_RES     /*               0.40698719968131                             */            7815798.46050674     7815798.46050674     7815798.46050674     7815798.46050674     7815798.46050674     7815798.46050674
HOTWATER                   .         DK1_IDVH_RES     /*               0.59301280031869                             */            2309826.75213548     2309826.75213548     2309826.75213548     2309826.75213548     2309826.75213548     2309826.75213548
HOTWATER                   .         DK2_IDVH_RES     /*               0.40698719968131                             */            1585243.89540224     1585243.89540224     1585243.89540224     1585243.89540224     1585243.89540224     1585243.89540224
SPACEHEAT                  .         DK1_IDVH_TER     /*               0.59301280031869                             */            2011412.14889791     2011412.14889791     2011412.14889791     2011412.14889791     2011412.14889791     2011412.14889791
SPACEHEAT                  .         DK2_IDVH_TER     /*               0.40698719968131                             */            1380440.68769678     1380440.68769678     1380440.68769678     1380440.68769678     1380440.68769678     1380440.68769678
HOTWATER                   .         DK1_IDVH_TER     /*               0.59301280031869                             */            144497.692743966     144497.692743966     144497.692743966     144497.692743966     144497.692743966     144497.692743966
HOTWATER                   .         DK2_IDVH_TER     /*               0.40698719968131                             */            99169.3793096419     99169.3793096419     99169.3793096419     99169.3793096419     99169.3793096419     99169.3793096419

*SPACEHEAT                           NO_IDVH_RES                                            #ERR#                                 NO DATA
*HOTWATER                            NO_IDVH_RES                                            #ERR#                                 NO DATA
*SPACEHEAT                           NO_IDVH_TER                                            #ERR#                                 NO DATA
*HOTWATER                            NO_IDVH_TER                                            #ERR#                                 NO DATA
SPACEHEAT                  .         NO1_IDVH_RES     /*               0.39422344440365                             */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO2_IDVH_RES     /*               0.241589801611981                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO3_IDVH_RES     /*               0.146716719491879                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO4_IDVH_RES     /*               0.116597606755633                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO5_IDVH_RES     /*               0.100872427736858                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO1_IDVH_RES     /*               0.39422344440365                             */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO2_IDVH_RES     /*               0.241589801611981                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO3_IDVH_RES     /*               0.146716719491879                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO4_IDVH_RES     /*               0.116597606755633                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO5_IDVH_RES     /*               0.100872427736858                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO1_IDVH_TER     /*               0.358215649243457                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO2_IDVH_TER     /*               0.237677228216064                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO3_IDVH_TER     /*               0.172882591655485                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO4_IDVH_TER     /*               0.127461051277195                            */                                 0                    0                    0                    0                    0
SPACEHEAT                  .         NO5_IDVH_TER     /*               0.103763479607798                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO1_IDVH_TER     /*               0.358215649243457                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO2_IDVH_TER     /*               0.237677228216064                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO3_IDVH_TER     /*               0.172882591655485                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO4_IDVH_TER     /*               0.127461051277195                            */                                 0                    0                    0                    0                    0
HOTWATER                   .         NO5_IDVH_TER     /*               0.103763479607798                            */                                 0                    0                    0                    0                    0

*SPACEHEAT                           SE_IDVH_RES                                            0.877006212546321                     24982504.3111253
*HOTWATER                            SE_IDVH_RES                                            0.122993787453679                     3503615.80265415
*SPACEHEAT                           SE_IDVH_TER                                            0.950128202291034                     11641350.8276815
*HOTWATER                            SE_IDVH_TER                                            0.0498717977089664                    611049.216450269
SPACEHEAT                  .         SE1_IDVH_RES     /*               0.0442298739679416                           */            1104973.01708463     1104973.01708463     1104973.01708463     1104973.01708463     1104973.01708463     1104973.01708463
SPACEHEAT                  .         SE2_IDVH_RES     /*               0.0909270981834404                           */            2271586.62236592     2271586.62236592     2271586.62236592     2271586.62236592     2271586.62236592     2271586.62236592
SPACEHEAT                  .         SE3_IDVH_RES     /*               0.661726484415367                            */            16531584.7496927     16531584.7496927     16531584.7496927     16531584.7496927     16531584.7496927     16531584.7496927
SPACEHEAT                  .         SE4_IDVH_RES     /*               0.203116543433251                            */            5074359.92198207     5074359.92198207     5074359.92198207     5074359.92198207     5074359.92198207     5074359.92198207
HOTWATER                   .         SE1_IDVH_RES     /*               0.0442298739679416                           */            154964.485383482     154964.485383482     154964.485383482     154964.485383482     154964.485383482     154964.485383482
HOTWATER                   .         SE2_IDVH_RES     /*               0.0909270981834404                           */            318573.618084988     318573.618084988     318573.618084988     318573.618084988     318573.618084988     318573.618084988
HOTWATER                   .         SE3_IDVH_RES     /*               0.661726484415367                            */            2318435.36783246     2318435.36783246     2318435.36783246     2318435.36783246     2318435.36783246     2318435.36783246
HOTWATER                   .         SE4_IDVH_RES     /*               0.203116543433251                            */            711642.331353227     711642.331353227     711642.331353227     711642.331353227     711642.331353227     711642.331353227
SPACEHEAT                  .         SE1_IDVH_TER     /*               0.0512323687143629                           */            596413.977937032     596413.977937032     596413.977937032     596413.977937032     596413.977937032     596413.977937032
SPACEHEAT                  .         SE2_IDVH_TER     /*               0.0947624860560688                           */            1103163.34548197     1103163.34548197     1103163.34548197     1103163.34548197     1103163.34548197     1103163.34548197
SPACEHEAT                  .         SE3_IDVH_TER     /*               0.664793845966846                            */            7739098.38898369     7739098.38898369     7739098.38898369     7739098.38898369     7739098.38898369     7739098.38898369
SPACEHEAT                  .         SE4_IDVH_TER     /*               0.189211299262723                            */            2202675.11527878     2202675.11527878     2202675.11527878     2202675.11527878     2202675.11527878     2202675.11527878
HOTWATER                   .         SE1_IDVH_TER     /*               0.0512323687143629                           */            31305.4987598027     31305.4987598027     31305.4987598027     31305.4987598027     31305.4987598027     31305.4987598027
HOTWATER                   .         SE2_IDVH_TER     /*               0.0947624860560688                           */            57904.5428534404     57904.5428534404     57904.5428534404     57904.5428534404     57904.5428534404     57904.5428534404
HOTWATER                   .         SE3_IDVH_TER     /*               0.664793845966846                            */            406221.758679002     406221.758679002     406221.758679002     406221.758679002     406221.758679002     406221.758679002
HOTWATER                   .         SE4_IDVH_TER     /*               0.189211299262723                            */            115617.416158024     115617.416158024     115617.416158024     115617.416158024     115617.416158024     115617.416158024

SPACEHEAT                  .         FI_IDVH_RES      /*                                    0.938022677499892       */            31271297.9253545     31271297.9253545     31271297.9253545     31271297.9253545     31271297.9253545     31271297.9253545
HOTWATER                   .         FI_IDVH_RES      /*                                    0.0619773225001079      */            2066166.80279233     2066166.80279233     2066166.80279233     2066166.80279233     2066166.80279233     2066166.80279233
SPACEHEAT                  .         FI_IDVH_TER      /*                                    0.948660615235678       */            7398589.7924973      7398589.7924973      7398589.7924973      7398589.7924973      7398589.7924973      7398589.7924973
HOTWATER                   .         FI_IDVH_TER      /*                                    0.0513393847643221      */            400395.085418446     400395.085418446     400395.085418446     400395.085418446     400395.085418446     400395.085418446

*SPACEHEAT                           DE_IDVH_RES                                            0.813696000918273                     406196645.690334
*HOTWATER                            DE_IDVH_RES                                            0.186303999081727                     93002865.2227499
*SPACEHEAT                           DE_IDVH_RES                                            0.932626043350289                     228350453.134069
*HOTWATER                            DE_IDVH_RES                                            0.067373956649711                     16496294.136425
SPACEHEAT                  .         DE4-E_IDVH_RES   /*               0.143                                        */            58086120.3337177     58086120.3337177     58086120.3337177     58086120.3337177     58086120.3337177     58086120.3337177
SPACEHEAT                  .         DE4-N_IDVH_RES   /*               0.044                                        */            17872652.4103747     17872652.4103747     17872652.4103747     17872652.4103747     17872652.4103747     17872652.4103747
SPACEHEAT                  .         DE4-S_IDVH_RES   /*               0.387                                        */            157198101.882159     157198101.882159     157198101.882159     157198101.882159     157198101.882159     157198101.882159
SPACEHEAT                  .         DE4-W_IDVH_RES   /*               0.426                                        */            173039771.064082     173039771.064082     173039771.064082     173039771.064082     173039771.064082     173039771.064082
HOTWATER                   .         DE4-E_IDVH_RES   /*               0.143                                        */            13299409.7268532     13299409.7268532     13299409.7268532     13299409.7268532     13299409.7268532     13299409.7268532
HOTWATER                   .         DE4-N_IDVH_RES   /*               0.044                                        */            4092126.069801       4092126.069801       4092126.069801       4092126.069801       4092126.069801       4092126.069801
HOTWATER                   .         DE4-S_IDVH_RES   /*               0.387                                        */            35992108.8412042     35992108.8412042     35992108.8412042     35992108.8412042     35992108.8412042     35992108.8412042
HOTWATER                   .         DE4-W_IDVH_RES   /*               0.426                                        */            39619220.5848915     39619220.5848915     39619220.5848915     39619220.5848915     39619220.5848915     39619220.5848915
SPACEHEAT                  .         DE4-E_IDVH_TER   /*               0.143                                        */            32654114.7981718     32654114.7981718     32654114.7981718     32654114.7981718     32654114.7981718     32654114.7981718
SPACEHEAT                  .         DE4-N_IDVH_TER   /*               0.044                                        */            10047419.937899      10047419.937899      10047419.937899      10047419.937899      10047419.937899      10047419.937899
SPACEHEAT                  .         DE4-S_IDVH_TER   /*               0.387                                        */            88371625.3628846     88371625.3628846     88371625.3628846     88371625.3628846     88371625.3628846     88371625.3628846
SPACEHEAT                  .         DE4-W_IDVH_TER   /*               0.426                                        */            97277293.0351133     97277293.0351133     97277293.0351133     97277293.0351133     97277293.0351133     97277293.0351133
HOTWATER                   .         DE4-E_IDVH_TER   /*               0.143                                        */            2358970.06150878     2358970.06150878     2358970.06150878     2358970.06150878     2358970.06150878     2358970.06150878
HOTWATER                   .         DE4-N_IDVH_TER   /*               0.044                                        */            725836.9420027       725836.9420027       725836.9420027       725836.9420027       725836.9420027       725836.9420027
HOTWATER                   .         DE4-S_IDVH_TER   /*               0.387                                        */            6384065.83079648     6384065.83079648     6384065.83079648     6384065.83079648     6384065.83079648     6384065.83079648
HOTWATER                   .         DE4-W_IDVH_TER   /*               0.426                                        */            7027421.30211705     7027421.30211705     7027421.30211705     7027421.30211705     7027421.30211705     7027421.30211705

SPACEHEAT                  .         UK_IDVH_RES      /*                                    0.795480313753952       */            272973477.560581     272973477.560581     272973477.560581     272973477.560581     272973477.560581     272973477.560581
HOTWATER                   .         UK_IDVH_RES      /*                                    0.204519686246048       */            70182063.6147772     70182063.6147772     70182063.6147772     70182063.6147772     70182063.6147772     70182063.6147772
SPACEHEAT                  .         UK_IDVH_TER      /*                                    0.895033373929195       */            87592159.6853861     87592159.6853861     87592159.6853861     87592159.6853861     87592159.6853861     87592159.6853861
HOTWATER                   .         UK_IDVH_TER      /*                                    0.104966626070805       */            10272525.8523795     10272525.8523795     10272525.8523795     10272525.8523795     10272525.8523795     10272525.8523795

SPACEHEAT                  .         NL_IDVH_RES      /*                                    0.871024048223013       */            81353711.9156539     81353711.9156539     81353711.9156539     81353711.9156539     81353711.9156539     81353711.9156539
HOTWATER                   .         NL_IDVH_RES      /*                                    0.128975951776987       */            12046363.6409563     12046363.6409563     12046363.6409563     12046363.6409563     12046363.6409563     12046363.6409563
SPACEHEAT                  .         NL_IDVH_TER      /*                                    0.91644860812375        */            36171509.2895888     36171509.2895888     36171509.2895888     36171509.2895888     36171509.2895888     36171509.2895888
HOTWATER                   .         NL_IDVH_TER      /*                                    0.08355139187625        */            3297708.04453201     3297708.04453201     3297708.04453201     3297708.04453201     3297708.04453201     3297708.04453201

SPACEHEAT                  .         BE_IDVH_RES      /*                                    0.874503628187418       */            68970648.2724176     68970648.2724176     68970648.2724176     68970648.2724176     68970648.2724176     68970648.2724176
HOTWATER                   .         BE_IDVH_RES      /*                                    0.125496371812582       */            9897690.34771244     9897690.34771244     9897690.34771244     9897690.34771244     9897690.34771244     9897690.34771244
SPACEHEAT                  .         BE_IDVH_TER      /*                                    0.923748244317878       */            28381853.9422584     28381853.9422584     28381853.9422584     28381853.9422584     28381853.9422584     28381853.9422584
HOTWATER                   .         BE_IDVH_TER      /*                                    0.0762517556821215      */            2342809.53270858     2342809.53270858     2342809.53270858     2342809.53270858     2342809.53270858     2342809.53270858

SPACEHEAT                  .         FR_IDVH_RES      /*                                    0.914123396913167       */            313928168.755803     313928168.755803     313928168.755803     313928168.755803     313928168.755803     313928168.755803
HOTWATER                   .         FR_IDVH_RES      /*                                    0.0858766030868324      */            29491734.7450621     29491734.7450621     29491734.7450621     29491734.7450621     29491734.7450621     29491734.7450621
SPACEHEAT                  .         FR_IDVH_TER      /*                                    0.886622753776717       */            103860380.785227     103860380.785227     103860380.785227     103860380.785227     103860380.785227     103860380.785227
HOTWATER                   .         FR_IDVH_TER      /*                                    0.113377246223283       */            13281188.5494381     13281188.5494381     13281188.5494381     13281188.5494381     13281188.5494381     13281188.5494381

SPACEHEAT                  .         PL_IDVH_RES      /*                                    0.895877890634464       */            124893693.305966     124893693.305966     124893693.305966     124893693.305966     124893693.305966     124893693.305966
HOTWATER                   .         PL_IDVH_RES      /*                                    0.104122109365536       */            14515588.4852343     14515588.4852343     14515588.4852343     14515588.4852343     14515588.4852343     14515588.4852343
SPACEHEAT                  .         PL_IDVH_TER      /*                                    0.946054709549206       */            35546090.561047      35546090.561047      35546090.561047      35546090.561047      35546090.561047      35546090.561047
HOTWATER                   .         PL_IDVH_TER      /*                                    0.0539452904507937      */            2026885.08428821     2026885.08428821     2026885.08428821     2026885.08428821     2026885.08428821     2026885.08428821

SPACEHEAT                  .         EE_IDVH_RES      /*                                    0.909803080561534       */            4894133.67854613     4894133.67854613     4894133.67854613     4894133.67854613     4894133.67854613     4894133.67854613
HOTWATER                   .         EE_IDVH_RES      /*                                    0.0901969194384661      */            485199.259660072     485199.259660072     485199.259660072     485199.259660072     485199.259660072     485199.259660072
SPACEHEAT                  .         EE_IDVH_TER      /*                                    0.953581109119883       */            1401441.26581711     1401441.26581711     1401441.26581711     1401441.26581711     1401441.26581711     1401441.26581711
HOTWATER                   .         EE_IDVH_TER      /*                                    0.0464188908801167      */            68220.0481644382     68220.0481644382     68220.0481644382     68220.0481644382     68220.0481644382     68220.0481644382

SPACEHEAT                  .         LV_IDVH_RES      /*                                    0.877078974312627       */            6708226.25461922     6708226.25461922     6708226.25461922     6708226.25461922     6708226.25461922     6708226.25461922
HOTWATER                   .         LV_IDVH_RES      /*                                    0.122921025687373       */            940145.729074156     940145.729074156     940145.729074156     940145.729074156     940145.729074156     940145.729074156
SPACEHEAT                  .         LV_IDVH_TER      /*                                    0.954972761147318       */            2833055.48820498     2833055.48820498     2833055.48820498     2833055.48820498     2833055.48820498     2833055.48820498
HOTWATER                   .         LV_IDVH_TER      /*                                    0.0450272388526822      */            133579.37664845      133579.37664845      133579.37664845      133579.37664845      133579.37664845      133579.37664845

SPACEHEAT                  .         LT_IDVH_RES      /*                                    0.86115263152738        */            6384889.02856739     6384889.02856739     6384889.02856739     6384889.02856739     6384889.02856739     6384889.02856739
HOTWATER                   .         LT_IDVH_RES      /*                                    0.138847368472621       */            1029463.31132253     1029463.31132253     1029463.31132253     1029463.31132253     1029463.31132253     1029463.31132253
SPACEHEAT                  .         LT_IDVH_TER      /*                                    0.951164747960242       */            1840079.64939909     1840079.64939909     1840079.64939909     1840079.64939909     1840079.64939909     1840079.64939909
HOTWATER                   .         LT_IDVH_TER      /*                                    0.0488352520397578      */            94474.436362721      94474.436362721      94474.436362721      94474.436362721      94474.436362721      94474.436362721
;

INDHEAT_DH(Y,INDHEAT_AAA,INDHEAT_DHUSER)  = INDHEAT_DH1(INDHEAT_DHUSER,INDHEAT_AAA,Y);
INDHEAT_DH1(INDHEAT_DHUSER,INDHEAT_AAA,YYY)=0;
$label endindheat_eu
