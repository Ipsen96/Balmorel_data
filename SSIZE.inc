PARAMETER SSIZE(SSS)                   'The number of Seasons that are aggregated into Season S';                                                                                                                
/*                                    Explaination from Hans (2020):                                                                                                                                             
                                      I introduced the SSIZE for a specific time aggregation that I have developed and is limited to a specific understanding and definition.                                    
                                      The time aggregation operated with i.a. aggregation of the (supposedly 52) Seasons, as follows. The subset S(SSS) is the Seasons that are in the aggregated model.         
                                      It is (as least currently) an assumption in the method that for any given S, the following hold:                                                                           
                                      1. The first element in S is ‘S01’.                                                                                                                                        
                                      2. For any two consecutive elements ‘Sx’ and ‘Sy’ in S, ‘Sx’ represents the following elements form SSS: ‘Sx’ plus all following elements in SSS up to but excluding ‘Sy’  
                                                                                                                                                                                                                 
                                      Example of aggregation:   S01, S27, s51, S52 gives SSIZE: SSIZE(S01)= 26 ; SSIZE(S27)= 24; SSIZE(S51)=  1; SSIZE(S52)=  1;                                                 
                                                                                                                                                                                                                 
*/                                                                                                                                                                                                               
                                                                                                                                                                                                                 
*Defult:                              Evenly distributed S as defult. SSIZE calculated by the following equation.                                                                                                
PARAMETER PS2SSS(S,SSS)               "Mapping/weighting of SSS to S - Sequence of Card(S) from SSS maps to each S";                                                                                             
PS2SSS(S,SSS) =                       Max(0,1-Min(1,Max(0,ORD(SSS)-(CARD(SSS)/CARD(S))*ORD(S)))-Min(1,max(0,1-(ord(SSS)-(CARD(SSS)/CARD(S))*(ORD(S)-1)))));                                                      
SSIZE(S) =                             Sum(SSS, PS2SSS(S,SSS));                                                                                                                                                  
                                                                                                                                                                                                                 
$ONTEXT                                                                                                                                                                                                          
* Optional:                            Assign SSIZE manually.                                                                                                                                                    
TABLE SSIZE(SSS)                                                                                                                                                                                                 
S01                                   7                                                                                                                                                                          
S08                                   6                                                                                                                                                                          
S14                                   7                                                                                                                                                                          
S21                                   6                                                                                                                                                                          
S27                                   7                                                                                                                                                                          
S34                                   6                                                                                                                                                                          
S40                                   7                                                                                                                                                                          
S47                                   6                                                                                                                                                                          
;                                                                                                                                                                                                                
$OFFTEXT                                                                                                                                                                                                         
abort$(SUM(S, SSIZE(S)) <> CARD(SSS))  "Check if SSIZE.inc matches with S.inc.";                                                                                                                                 
